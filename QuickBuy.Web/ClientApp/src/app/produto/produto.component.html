
<div class="container">
  <div class="row">
    <div class="col-md-6">
      
      <form action="/" method="post" class="form-signin">
        <h1 class="h4">cadastro de produtos</h1>
        <a [routerLink]='["/pesquisar-produto"]'> ver todos os produtos</a>
        <br />
        <label for="inputNome" class="sr-only">nome</label>
        <input type="text"
               name="nomeProduto"
               id="inputNome"
               placeholder="nome do produto"
               [(ngModel)]="produto.nome"
               [ngClass]="{
             'is-invalid': nome.invalid && (nome.dirty || nome.touched ),
             'is-valid' : nome.valid && (nome.dirty || nome.touched )
           }"
               class="form-control mt-2"
               #nome="ngModel"
               required />

        <label for="inputdescricao" class="sr-only">descricao</label>
        <input type="text"
               name="descricaoProduto"
               id="inputDescricao"
               placeholder="descricao do produto"
               [(ngModel)]="produto.descricao"
               [ngClass]="{
             'is-invalid': descricao.invalid && (descricao.dirty || descricao.touched ),
             'is-valid' : descricao.valid && (descricao.dirty || descricao.touched )
           }"
               class="form-control mt-2"
               #descricao="ngModel"
               required />

        <label for="inputValor" class="sr-only">Valor</label>
        <input type="text"
               name="precoProduto"
               id="inputPreco"
               placeholder="Preco do produto"
               [(ngModel)]="produto.preco"
               [ngClass]="{
               'is-invalid': preco.invalid && (preco.dirty || preco.touched ),
               'is-valid' : preco.valid && (preco.dirty || preco.touched )
             }"
               class="form-control mt-2"
               #preco="ngModel"
               required />

        <div class="input-group mt-2">
          <div class="custom-file">
            <input type="file" class="custom-file-input" id="inputGroupFile04" aria-describedby="inputGroupFileAddon04" (change)="inputChange($event.target.files)">
            <label class="custom-file-label" for="inputGroupFile04">escolha uma foto</label>
          </div>
        </div>

        <button class="btn btn-success btn-block mt-2  text-white" (click)="cadastrar()" type="submit" [disabled]="ativar_spinner">
          <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" *ngIf="ativar_spinner"></span>
          <span *ngIf="ativar_spinner">acessando...</span>

          <span *ngIf="!ativar_spinner">salvar produto</span>
        </button>
        <div class="alert alert-danger mt-2" *ngIf="mensagem">
          {{mensagem}}
        </div>
      </form>
    </div>
  </div>
</div>


